/**
 * booModal - Bootstrap Modal
 * @version v1.0.0
 * @homepage https://github.com/kiaonline/booModal
 * @license ISC
 * @git git+https://github.com/kiaonline/booModal.git
 */
"use strict";!function(o){function t(t,a,e){t.preventDefault(),o.isFunction(e)&&!1===e(t)||a.modal("hide")}var a={dialog:"<div class='custom-modal modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='modal-body-content'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='modal-close-button close'>&times;</button>",form:"<form class='modal-form'></form>",inputs:{text:"<input class='modal-input modal-input-text form-control' autocomplete=off type=text />",email:"<input class='modal-input modal-input-email form-control' autocomplete='off' type='email' />",select:"<select class='modal-input modal-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='modal-input modal-input-checkbox' type='checkbox' /></label></div>"}},e=function(){var e=arguments,n=e[0]||{},l=e[1]||null;n=o.extend({},o.fn.boomodal.options,n),n.backdrop=!!n.backdrop&&"static";var i="dlg-modal-"+parseInt(9999*Math.random()),d=o(a.dialog).clone(),s=d.find(".modal-body"),c=n.buttons,r="",m={onEscape:n.onEscape};if(n.confirm&&l&&(n.buttons.ok.label=n.confirmLabel,n.buttons.ok.callback=function(){if(n.submitForm)l.closest("form").submit();else if(n.post){var t=o('<form method="post" class="hide" action="'+n.url+'"></form>');o("body").append(t),t.submit()}else window.location=n.url}),c){var u=Object.keys(c);u.reverse(),o(u).each(function(o,t){var a=c[t];a.class||(a.class="btn-primary"),a.label||(a.label=t),r+="<button data-modal-handler='"+t+"' type='button' class='btn "+a.class+"'>"+a.label+"</button>",m[t]=a.callback})}if(d.attr("id",i),d.bind("handleEvents",function(o,t){d.trigger(t,[this])}),n.className&&d.addClass(n.className),!0===n.animate&&d.addClass("fade"),n.ajax&&!1===n.confirm&&(s.find(".modal-body-content").load(n.url),n.message=!1),n.message&&s.find(".modal-body-content").html(n.message),n.title&&s.before(a.header),n.closeButton){var b=o(a.closeButton);n.title?d.find(".modal-header").append(b):b.css("margin-top","-10px").prependTo(s)}return n.title&&d.find(".modal-title").html(n.title),r.length&&(s.after(a.footer),d.find(".modal-footer").html(r)),d.bind("centerPosition",function(){if(!1===n.center)return!0;var t=o(this),a=t.find(".modal-dialog");a.css("marginTop",Math.max(0,(window.innerHeight-a.height())/2))}).trigger("centerPosition"),o(window).on("resize",function(){d.trigger("centerPosition")}),d.on("hidden.bs.modal",function(o){o.target===this&&d.remove()}).on("shown.bs.modal",function(){d.find(".btn-primary:first").focus()}).on("escape.close.modal",function(o){m.onEscape&&t(o,d,m.onEscape)}).on("click",".modal-footer button",function(a){var e=o(this).data("modal-handler");d.trigger("handleEvents",e),t(a,d,m[e])}).on("click",".modal-close-button",function(o){t(o,d,m.onEscape)}).on("keyup",function(o){27===o.which&&d.trigger("escape.close.modal")}),o(n.target).append(d),d.modal({backdrop:n.backdrop,keyboard:!1,show:!1}),n.show&&d.modal("show"),d};window.boomodal=e,o.fn.boomodal=function(t){o(this).each(function(){var t=o(this);if(t.data("boomodal"))return this;var a=t.attr("href")||t.data("url");return a?(t.data("triggerClick",!1),t.on("click",function(t,n){var l=o(this),i=l.data(),d=o.extend({},i,d);d.url=a;new e(d,l);return l.data("boomodal",!0),!1}),t):(console.error("booModal require link with href attribute or element with data-url attribute. Nothing here to do!"),!0)})},o.fn.boomodal.options={target:document.body,backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0,center:!0,ajax:!1,confirm:!1,submitForm:!1,confirmLabel:"Confirm?",buttons:{ok:{class:"btn-primary",label:"Ok"},cancel:{class:"btn-default",label:"Cancel"}}},o("a[data-modal]").boomodal()}(jQuery);